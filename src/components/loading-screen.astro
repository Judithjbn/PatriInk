
---
import { Image } from "astro:assets";
import Logo from "../assets/Patri.ink2.svg";
---

<div id="loading-screen" class="fixed inset-0 z-50 flex items-center justify-center bg-[#E7D9D0]">
  <div class="w-64 h-64">
    <svg class="logo-animation" viewBox="0 0 841.89 595.28">
      <use href="#logo-path" class="path"></use>
    </svg>
  </div>
</div>

<svg class="hidden">
  <defs>
    <g id="logo-path">
      <!-- Path data from Patri.ink2.svg -->
      <path d="M281.62,237.92c-4.84,23.78-22.85,35.78-28,39.68a72.12,72.12,0,0,1-27.07,12.61v87.22c-7.39,13.33-13.92,24.07-18.85,31.89-4.11,6.53-6.4,9.9-10.58,13.42-2.91,2.44-12.22,10.05-25.51,9.63-3-.09-17.23-.54-23.06-10.77-.59-1.05-3.86-6.79-1.7-13.42,2.84-8.68,12.44-11,13-11.15-.6.28-9.86,4.63-10.77,13.42-1,9.76,9.2,15.91,10.77,16.82,11.06,6.38,26.81,2.13,35.53-7.37,5.72-6.23,7.75-13.44,7.75-17V289.2a37.18,37.18,0,0,1-5.1-2.15,40.18,40.18,0,0,1-14.37-12.66,55.42,55.42,0,0,0,19.47,10.67V210.13a38.12,38.12,0,0,1,31.6-21.77,12,12,0,0,0-5.81,4.11,12.09,12.09,0,0,0-2.41,6.38v87.27a41,41,0,0,0,21-10.79c9.89-9.77,11.47-22.13,12.28-29.29,2.62-23.12-4.19-63.49-37.7-75.82-18.06-6.65-41.56-3.71-57.69,9.63C151,191,140.23,206.69,144.24,231.16c1.91,9.92,8,20,24.75,23,11.34,2.07,20.61-3.89,23.85-6.29-14.26,10.83-31.79,11.84-42.79,4.26-10-6.91-12.43-18.89-12.62-23.29-.55-13.28,1.89-21.82,4-27a65.48,65.48,0,0,1,11-17.76c19.59-22.26,52.39-22.82,55.94-22.87,5.53-.07,41.69-.55,62.17,28C274,194.1,286.65,213.21,281.62,237.92Z"/>
    </g>
  </defs>
</svg>

<style>
  .logo-animation {
    width: 100%;
    height: 100%;
  }
  
  .path {
    fill: none;
    stroke: #000;
    stroke-width: 2;
    stroke-dasharray: 2000;
    stroke-dashoffset: 2000;
    animation: draw 3s ease forwards;
  }

  @keyframes draw {
    to {
      stroke-dashoffset: 0;
    }
  }

  #loading-screen {
    animation: fadeOut 0.5s ease 3s forwards;
  }

  @keyframes fadeOut {
    to {
      opacity: 0;
      visibility: hidden;
    }
  }
</style>

<script>
  setTimeout(() => {
    const loadingScreen = document.getElementById('loading-screen');
    if (loadingScreen) {
      loadingScreen.addEventListener('animationend', () => {
        loadingScreen.remove();
      });
    }
  }, 3500);
</script>
